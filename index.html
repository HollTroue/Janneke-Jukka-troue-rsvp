<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jukka & Janneke's Wedding</title>
   <!-- Load Tailwind CSS (dev only) -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Load Supabase client -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- Your custom Supabase logic -->
<script>
  const supabaseUrl = 'https://qrbvsyukjnkuucogistm.supabase.co';
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFyYnZzeXVram5rdXVjb2dpc3RtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAyNTE5MzYsImV4cCI6MjA2NTgyNzkzNn0.0jk8jyxmu-QIPHQaRMR19pkGHAHlAk2MZCAzHbwehb0';
  const supabase = window.supabase.createClient(supabaseUrl, supabaseKey);

</script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Pinyon+Script&family=Times+New+Roman&family=Abadi+MT+Condensed+Light&display=swap" rel="stylesheet">
    <link rel="icon" href="image_25ef05.png" type="image/png">
    <style>
        /* Custom Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Pinyon+Script&display=swap');
        
        body {
            font-family: 'Abadi', sans-serif; /* Default font */
            background-color: #F6F4F1; /* Lightest theme color */
            color: #706B4C; /* Darkest theme color */
        }
        /* Common styles for fade overlays */
section {
  position: relative; /* to contain the pseudo-elements */
  z-index: 0; /* ensure overlays are behind content */
}

/* Bottom fade on every section */
section::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 40px; /* Adjust the fade height */
  pointer-events: none;
  z-index: 1;
  background: linear-gradient(
    to bottom,
    transparent,
    var(--section-bg-color)
  );
}

/* Top fade on every section except first */
section:not(:first-child)::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: 40px; /* Match bottom fade height */
  pointer-events: none;
  z-index: 1;
  background: linear-gradient(
    to top,
    transparent,
    var(--section-bg-color)
  );
}
#home {
  --section-bg-color: #FFFEF2; /* Off white background */
  background-color: var(--section-bg-color);
}

#story {
  --section-bg-color: #FFFEF2; /* Same as home if needed */
  background-color: var(--section-bg-color);
}

#schedule {
  --section-bg-color: #FFFEF2; /* Slightly different light cream */
  background-color: var(--section-bg-color);
}

#dresscode {
  --section-bg-color: #FFFEF2;
  background-color: var(--section-bg-color);
}

#gifts {
  --section-bg-color: #FFFEF2; /* Khaki */
  background-color: var(--section-bg-color);
}

#venue {
  --section-bg-color: #FFFEF2;
  background-color: var(--section-bg-color);
}

#accommodation {
  --section-bg-color: #FFFEF2;
  background-color: var(--section-bg-color);
}

#rsvp {
  --section-bg-color: #FFFEF2;
  background-color: var(--section-bg-color);
}


        #rsvpForm label,
#rsvpForm span,
#rsvpForm input[type="radio"] + span,
#rsvpForm input[type="checkbox"] + label,
#rsvpForm input,
#rsvpForm textarea {
  font-family: 'Abadi', sans-serif; /* consistent font */
  font-size: 1rem; /* consistent size, adjust if you want */
  color: #3e2f1c; /* dark dark brown, consistent text color */
}
.section-title-hat {
  display: flex;
  margin-bottom: -1.5rem;
}

.section-title-hat img {
  width: 80px; /* or adjust as needed */
  height: auto;
  object-fit: contain;
  margin-bottom: 0.5rem;
}



        /* Applying custom fonts to specific elements */
        .font-signature {
            font-family: 'Pinyon Script', cursive;
        }

        .font-times {
            font-family: 'Times New Roman', Times, serif;
        }
        .section-title-hat {
  display: flex;
  justify-content: center;
  margin-bottom: -1.5rem; /* pull it closer to the title */
}

.section-title-hat img {
  width: 80px; /* adjust size as needed */
  height: auto;
  object-fit: contain;
  margin-bottom: 0.5rem; /* space below the image */
}

        
        /* A custom font since HarlowSolid Italic and Aspire are not standard web fonts */
        .font-harlow {
            font-family: 'Dancing Script', cursive; /* Using a similar elegant, script-like font */
            font-style: italic;
        }

        .font-abadi {
             font-family: 'Abadi MT Condensed Light', sans-serif;
        }

        /* Custom Colors from the theme */
        .bg-theme-dark-olive { background-color: #706B4C; }
        .bg-theme-light-olive { background-color: #A1997E; }
        .bg-theme-khaki { background-color: #CCC1B0; }
        .bg-theme-off-white { background-color: #FFFEF2; }

        .text-theme-dark-olive { color: #706B4C; }
        .text-theme-light-olive { color: #A1997E; }
        .text-theme-khaki { color: #CCC1B0; }
        .text-theme-off-white { color: #FFFEF2; }
        
        .border-theme-dark-olive { border-color: #706B4C; }

        /* Full-screen hero section */
        .hero-screen {
            height: 100vh;
            width: 100%;
        }
        /* Modal styles */
        .modal {
            transition: opacity 0.25s ease;
        }
         /* ... existing styles ... */

    section {
        opacity: 0;
        transition: opacity 1s ease-in-out; /* Fade over 1 second, adjust as needed */
    }
    .fade-bottom {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 60px; /* adjust height as needed */
  pointer-events: none; /* so it doesn't interfere */
  background: linear-gradient(to bottom, rgba(246, 244, 241, 0) 0%, #fdfcf9 100%);
  /* This fades from transparent (the current section's color) to next section color */
}
.fade-bottom-story {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 60px;
  pointer-events: none;
  background: linear-gradient(to bottom, rgba(246,244,241,0) 0%, #fdfcf9 100%);
}
#story::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 60px;
  pointer-events: none;
  background: linear-gradient(to bottom, rgba(246,244,241,0) 0%, #fdfcf9 100%);
  z-index: 10;
}


.fade-bottom-schedule {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 60px;
  pointer-events: none;
  background: linear-gradient(to bottom, rgba(253,252,249,0) 0%, #CCC1B0 100%);
}
#home::before,
#home::after {
  display: none !important;
}

    section.fade-in {
        opacity: 1;
    }
    .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
    </style>
</head>
<body class="bg-theme-off-white">

      <!-- Header/Navigation -->
    <header class="bg-theme-off-white/80 backdrop-blur-sm sticky top-0 z-50 shadow-md overflow-x-hidden">

          <nav class="container mx-auto px-2 py-3">
              <div class="flex justify-center items-center">
                 <div class="flex space-x-2 md:space-x-4 text-sm md:text-base text-theme-dark-olive font-sans">


                    <a href="#story" class="hover:text-theme-light-olive transition duration-300">Story</a>
                    <a href="#schedule" class="hover:text-theme-light-olive transition duration-300">Schedule</a>
                    <a href="#dresscode" class="hover:text-theme-light-olive transition duration-300">Attire</a>
                    <a href="#gifts" class="hover:text-theme-light-olive transition duration-300">Gifts</a>
                    <a href="#venue" class="hover:text-theme-light-olive transition duration-300">Venue</a>
                    <a href="#accommodation" class="hover:text-theme-light-olive transition duration-300">Rooms</a>
                    <a href="#rsvp" class="hover:text-theme-light-olive transition duration-300">RSVP</a>

                     </div>
            </div>  
        </nav>
    </header>
<section id="home" class="relative min-h-screen flex items-start justify-center text-white text-center overflow-hidden p-0 m-0">
  <div class="absolute inset-0 p-0 m-0">
    <div 
      class="w-full h-full bg-no-repeat bg-top bg-cover p-0 m-0"
      style="background-image: url('images/cover_Final.png');">
    </div>
  </div>
  <div class="relative z-10 flex flex-col items-center w-full mt-10">
    <h1 class="font-signature text-7xl md:text-9xl lg:text-[10rem] leading-none text-white drop-shadow-xl mt-0 pt-0">Jukka & Janneke</h1>
    <p class="font-times text-2xl md:text-3xl mt-4 text-white drop-shadow">05.12.2025</p>
  </div>
</section>

<!-- Our Story Section -->
<section id="story"  class="relative py-8 md:py-12 bg-theme-off-white overflow-hidden">
  <div class="container mx-auto px-2 relative z-10">
    <div class="flex flex-col md:flex-row items-start gap-12 md:gap-16 justify-center">
      
      <!-- Left Image -->
      <div class="w-full md:w-auto">
        <img src="images/filling.png" alt="Jukka and Janneke" 
             class="rounded-lg shadow-2xl object-contain border-4" 
             style="max-height: 600px; border:none; max-width: 100%;">
      </div>

      <!-- Text Content -->
      <div class="w-full md:w-1/2 text-center md:text-left relative z-10">
        <h2 class="font-harlow text-5xl mb-6 text-theme-dark-olive">Our Story</h2>
        <div class="font-sans text-lg text-theme-dark-olive space-y-4 leading-relaxed">
          <p>Jukka and Janneke’s love story began when they were just six years old. What seemed like a simple childhood encounter turned out to be a divine, God-ordained moment—the beginning of something truly special.</p>
          <p>A deep friendship blossomed early on, forming a bond so genuine and strong that people often said, “One day, they’ll end up together.”</p>
          <p>We were each other’s best friend, and by God’s grace, we carried that friendship into adulthood. From running hurdles side by side and sharing athletic practices, to dancing through our first year at Stellenbosch—every chapter added meaning to our journey.</p>
          <p>And now, as we prepare to say “I do,” we believe our story is not only one worth telling, but a beautiful gift from God—one we cherish with grateful hearts.</p>
        </div>
      </div>
    </div>
  </div>

<div class="absolute inset-y-0 right-0 flex items-center justify-end z-0 pointer-events-none" style="margin-right: -10%;">
  <img 
    src="https://i.ibb.co/Zkrp55R/olive.png" 
    alt="Watermark" 
    class="w-[90%] opacity-10 object-contain" 
  />
</div>


  <div
    class="fade-bottom-story"
    style="
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 60px;
      pointer-events: none;
      background: linear-gradient(
        to bottom,
        rgba(246, 244, 241, 0) 0%,
        #fdfcf9 100%
      );
      z-index: 10;
    "
  ></div>
</section>


<!-- Wedding Schedule Section -->
<section id="schedule" class="py-14 md:py-14 bg-[#fdfcf9]">
  <!-- Watermark image overlay -->
      <div class="absolute inset-0 flex items-center justify-center pointer-events-none">
        <img
          src="https://i.ibb.co/4w5pMk0B/ringing-Bells-Watermark.png"
          alt="Watermark"
          class="w-2/4 opacity-10 object-contain" 
        />
      </div>
  <div class="container mx-auto px-2 text-center">
    <div class="section-title-hat">
  <img src="https://i.ibb.co/b5hgfQ7y/title.png" alt="Decorative hat" />
</div>
    <h2 class="font-harlow text-6xl mb-12 text-theme-dark-olive">Wedding Schedule</h2>
    
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
      <!-- Arrival -->
      <div class="rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition duration-300 border-4" style="background-color: #FFFEF2; border-color: #A1997E; height: 100px;">
        <div class="flex items-center justify-center h-full w-full">
          <div>
            <h3 class="font-harlow text-2xl text-theme-dark-olive">Arrival</h3>
            <p class="font-harlow text-lg text-theme-dark-olive">14:00</p>
          </div>
        </div>
      </div>

      <!-- Pre-Wedding -->
      <div class="rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition duration-300 border-4" style="background-color: #FFFEF2; border-color: #A1997E; height: 100px;">
        <div class="flex items-center justify-center h-full w-full">
          <div>
            <h3 class="font-harlow text-2xl text-theme-dark-olive">Pre-Wedding</h3>
            <p class="font-harlow text-lg text-theme-dark-olive">14:30</p>
          </div>
        </div>
      </div>

      <!-- Ceremony -->
      <div class="rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition duration-300 border-4" style="background-color: #FFFEF2; border-color: #A1997E; height: 100px;">
        <div class="flex items-center justify-center h-full w-full">
          <div>
            <h3 class="font-harlow text-2xl text-theme-dark-olive">Ceremony</h3>
            <p class="font-harlow text-lg text-theme-dark-olive">15:00</p>
          </div>
        </div>
      </div>

      <!-- Reception -->
      <div class="rounded-lg shadow-lg overflow-hidden transform hover:scale-105 transition duration-300 border-4" style="background-color: #FFFEF2; border-color: #A1997E; height: 100px;">
        <div class="flex items-center justify-center h-full w-full">
          <div>
            <h3 class="font-harlow text-2xl text-theme-dark-olive">Reception</h3>
            <p class="font-harlow text-lg text-theme-dark-olive">18:00</p>
          </div>
        </div>
      </div>
    </div>
   <div id="countdown" class="mt-10 mb-14">
  <h3 class="font-sans text-3xl text-theme-dark-olive mb-4">Countdown to the Wedding</h3>
  <div class="flex justify-center gap-8 text-theme-dark-olive font-harlow text-xl md:text-2xl">
    <div>
      <span id="days">0</span><br />Days
    </div>
    <div>
      <span id="hours">0</span><br />Hours
    </div>
    <div>
      <span id="minutes">0</span><br />Minutes
    </div>
    <div>
      <span id="seconds">0</span><br />Seconds
    </div>
  </div>
</div>

     <!-- Fade from #fdfcf9 to #CCC1B0 -->
</section>





<section id="dresscode" class="bg-theme-off-white flex items-center py-7 relative overflow-hidden fade-in">

  <div class="mx-auto px-2 sm:px-4">  <!-- tighter default side padding, slightly more on sm+ -->

    <div class="flex flex-col md:flex-row items-center gap-12 md:gap-16">
      <!-- Left Image Column (now larger and more responsive) -->
      <div class="w-full md:w-1/3">
        <img 
          src="https://i.ibb.co/tfr06Cj/dresscolor.jpg" 
          alt="Dress Code Mood Board" 
          class="w-full h-full max-h-[300px] object-cover rounded-lg shadow-lg"
        />
      </div>
      <!-- Text Content -->
      <div class="relative w-full md:w-1/2 text-center md:text-left flex flex-col justify-center" style="padding-left: 25px; z-index: 10;">
        <h2 class="font-harlow text-7xl mb-6 text-theme-dark-olive">Dress Code</h2>
        <div class="font-sans text-lg text-theme-dark-olive space-y-4 leading-relaxed">
          <p>We would love for our guests to join us in celebrating with a formal and elegant attire.</p>
          <p>Think sophisticated, chic, and ready for a memorable evening of celebration. We've put together a mood board to inspire your outfits. We can't wait to see you all dressed up!</p>
          <p class="mt-4 font-bold">Colors to consider: Earthy tones, soft neutrals, and deep jewel tones.</p>
        </div>
      </div>
      <!-- Watermark Image -->
      <div class="absolute right-10 top-1/2 transform -translate-y-1/2 z-0 pointer-events-none hidden md:block">
        <img 
          src="Janneke-Jukka-troue-rsvp/images/olive5.png" 
          alt="Watermark" 
          class="w-full opacity-10 object-contain"
        />
      </div>
    </div>
    <div class="fade-bottom"></div>
  </div>
</section>


<section id="gifts" class="relative py-2 md:py-2 bg-theme-off-white overflow-hidden">
  <div class="container mx-auto px-2 relative z-10">
    <!-- Title Section -->
    <div class="section-title-hat flex flex-col items-center w-full mb-4">
      <img 
        src="https://i.ibb.co/bMH7tvDS/title2.png" 
        alt="Decorative hat" 
        class="mb-1 w-full max-w-xs h-auto"
        style="object-fit:contain;" />
      <h2 class="font-harlow text-6xl mb-6 text-center text-theme-dark-olive">Gifts</h2>
    </div>

    <!-- Image & Text Row -->
    <div class="flex flex-col md:flex-row items-center gap-0 max-w-4xl mx-auto">
      <!-- Left: Image -->
      <div class="w-full md:w-1/2 flex justify-center items-center p-4">
        <img 
           src="https://i.ibb.co/PGVGFS9X/olive3.png"
    alt="Olive Watermark"
          class="object-contain w-full h-auto md:h-[350px] max-h-[500px]  shadow-md" />
      </div>
      

      <!-- Right: Text Content -->
      <div class="w-full md:w-1/2 text-theme-dark-olive font-abadi text-lg space-y-6 leading-relaxed text-center md:text-left flex flex-col justify-center p-4">
        <p>
          Julle teenwoordigheid is vir ons genoeg,<br>
          maar as julle graag iets wil gee,<br>
          sal 'n bydrae tot ons toekoms opreg waardeer word.
        </p>
       <div class="fade-border-box bg-theme-off-white rounded-lg px-6 py-4 text-base shadow w-fit mx-auto md:mx-0" style="font-family: 'Courier New', Courier, monospace;">
  <div class="font-harlow mb-2" style="font-size: 1.5rem;">Bank Details</div>
  <div><b>Bank:</b> Absa</div>
  <div><b>Account Type:</b> Cheque account</div>
  <div><b>Account Holder:</b> JP HOLL ABSA</div>
  <div><b>Account Number:</b> 9068813351</div>
</div>

      </div>
    </div>

    <!-- Olive Watermark on Right -->
    <div class="absolute inset-y-0 right-0 flex items-center justify-end z-0 pointer-events-none" style="margin-right: -10%;">
      <img 
        src="https://i.ibb.co/Zkrp55R/olive.png"
        alt="Olive Watermark"
        class="w-[80%] opacity-10 object-contain" />
    </div>

    <!-- Decorative Bottom Fade -->
    <div class="fade-bottom"></div>
  </div>

  <!-- CSS -->
  <style>
    .fade-bottom {
      position: absolute;
      left: 0; right: 0; bottom: 0;
      height: 24px;
      background: linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,0.5) 100%);
      pointer-events: none;
      z-index: 10;
    }

    @media (min-width: 768px) {
      #gifts .flex.md\\:flex-row > div {
        height: 100%;
      }
    }
  </style>
</section>



<!-- Venue Section -->
<section id="venue"  class="relative py-8 md:py-8 bg-theme-off-white overflow-hidden">
  <div class="container mx-auto px-2 relative z-10">
    <div class="section-title-hat">
  <img src="https://i.ibb.co/tpMfCtg7/title3.png" alt="Decorative hat" />
</div>
    <h2 class="font-harlow text-5xl mb-12 text-center text-theme-dark-olive">The Venue</h2>

    <div class="flex flex-col md:flex-row items-center gap-12 md:gap-16">
      <div class="w-full md:w-1/2 relative">
  <img src="https://i.ibb.co/20ZdpwbZ/Venue.png" alt="Venue 1" class="rounded-lg  object-cover w-full max-h-[500px]" />
</div>

      <!-- Details Section -->
      <div class="relative w-full md:w-1/2 space-y-8 z-10">
       <div class="bg-[#D3CFB8] rounded-lg p-6 shadow-md text-theme-dark-olive">
  <h3 class="font-harlow text-4xl mb-2">Venue</h3>
  <p class="font-sans text-lg mb-4">Bell and Blossom Wedding Venue</p>
  
</div>

        <div class="bg-[#D3CFB8] rounded-lg p-6 shadow-md text-theme-dark-olive">
          <h3 class="font-harlow text-4xl mb-2">Address</h3>
          <p class="font-sans text-lg">721 Klippan St, Montana, Pretoria, 0151</p>
          <a href="https://www.google.com/maps/dir//721+Klippan+St,+Montana,+Pretoria,+0151,+South+Africa" 
     target="_blank" 
     rel="noopener" 
     class="inline-block rounded-md px-5 py-2 bg-theme-olive text-olive-semibold shadow hover:bg-theme-dark-olive transition">
    Get directions
  </a>
        </div>
        <div class="bg-[#D3CFB8] rounded-lg p-6 shadow-md text-theme-dark-olive">
          <h3 class="font-harlow text-4xl mb-2">Drive</h3>
          <p class="font-sans text-lg">Approximately 30 minutes from Pretoria East</p>
        </div>

        <!-- Watermark -->
        <div class="absolute inset-0 flex items-center justify-center pointer-events-none z-0 hidden md:block">
          <img src="https://i.ibb.co/Zkrp55R/olive.png" alt="Watermark" class="w-2/3 opacity-5 object-contain" />
        </div>
      </div>
    </div>
  </div>
</section>


<section id="rsvp" class="py-8 md:py-8 bg-theme-off-white">
  <div class="mx-auto px-2 sm:px-4">
    <div class="section-title-hat">
      <img src="https://i.ibb.co/SX1L4s1Z/title5.png" alt="Decorative hat" />
    </div>

    <h2 class="font-harlow text-7xl text-theme-dark-olive mb-12 text-center w-full">RSVP</h2>

    <div class="max-w-5xl mx-auto flex flex-col md:flex-row gap-8 items-start">
      <div class="relative w-full max-w-md mx-auto">

        <!-- Watermark behind the form -->
        <img
          src="https://i.ibb.co/KjnNgd49/watermark2.png"
          alt="Watermark"
          class="absolute top-0 left-0 w-full h-full object-contain opacity-10 pointer-events-none select-none"
          style="z-index: 0;"
        />

        <form id="rsvpForm" class="relative space-y-6 font-sans bg-transparent z-10" autocomplete="off" novalidate>
          <!-- First Name and Surname -->
          <div class="flex gap-4">
            <div class="w-1/2">
              <label for="firstName" class="block text-sm font-medium text-theme-dark-olive">First Name</label>
              <input
                type="text"
                id="firstName"
                name="firstName"
                required
                class="mt-1 block w-full px-4 py-2 bg-white border border-theme-khaki rounded-md shadow-sm focus:ring-theme-light-olive focus:border-theme-light-olive"
                aria-describedby="guestStatusMessage"
              />
            </div>
            <div class="w-1/2">
              <label for="surname" class="block text-sm font-medium text-theme-dark-olive">Surname</label>
              <input
                type="text"
                id="surname"
                name="surname"
                required
                class="mt-1 block w-full px-4 py-2 bg-white border border-theme-khaki rounded-md shadow-sm focus:ring-theme-light-olive focus:border-theme-light-olive"
                aria-describedby="guestStatusMessage"
              />
            </div>
          </div>

          <!-- Guest status message -->
          <div>
            <div id="guestStatusMessage" class="mt-2 text-sm text-gray-600" aria-live="polite" aria-atomic="true"></div>
          </div>

          <!-- Attendance question -->
          <div>
            <label class="block text-sm font-medium text-theme-dark-olive">Will you be attending?</label>
            <div class="mt-2 flex items-center space-x-6">
              <label for="attendingYes" class="flex items-center">
                <input
                  type="radio"
                  id="attendingYes"
                  name="attendance"
                  value="Yes"
                  required
                  checked
                  class="focus:ring-theme-light-olive h-4 w-4 text-theme-dark-olive border-theme-khaki"
                />
                <span class="ml-2 text-theme-dark-olive">See you there</span>
              </label>
              <label for="attendingNo" class="flex items-center">
                <input
                  type="radio"
                  id="attendingNo"
                  name="attendance"
                  value="No"
                  class="focus:ring-theme-light-olive h-4 w-4 text-theme-dark-olive border-theme-khaki"
                />
                <span class="ml-2 text-theme-dark-olive">Can't make it</span>
              </label>
            </div>
          </div>

          <!-- Email -->
          <div id="emailSection">
            <label for="email" class="block text-sm font-medium text-theme-dark-olive">Email Address</label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="mt-1 block w-full px-4 py-2 bg-white border border-theme-khaki rounded-md shadow-sm focus:ring-theme-light-olive focus:border-theme-light-olive"
            />
          </div>

          <!-- Phone -->
          <div id="phoneSection">
            <label for="phone" class="block text-sm font-medium text-theme-dark-olive">Phone Number</label>
            <input
              type="tel"
              id="phone"
              name="phone"
              class="mt-1 block w-full px-4 py-2 bg-white border border-theme-khaki rounded-md shadow-sm focus:ring-theme-light-olive focus:border-theme-light-olive"
            />
          </div>

          <!-- Plus One Attendance Question -->
          <div id="plusOneQuestionSection" class="hidden">
            <label class="block text-sm font-medium text-theme-dark-olive">Is your plus one attending the wedding?</label>
            <div class="mt-2 flex items-center space-x-6">
              <label for="plusOneYes" class="flex items-center">
                <input
                  type="radio"
                  id="plusOneYes"
                  name="plusOneAttending"
                  value="Yes"
                  class="focus:ring-theme-light-olive h-4 w-4 text-theme-dark-olive border-theme-khaki"
                />
                <span class="ml-2 text-theme-dark-olive">Yes</span>
              </label>
              <label for="plusOneNo" class="flex items-center">
                <input
                  type="radio"
                  id="plusOneNo"
                  name="plusOneAttending"
                  value="No"
                  checked
                  class="focus:ring-theme-light-olive h-4 w-4 text-theme-dark-olive border-theme-khaki"
                />
                <span class="ml-2 text-theme-dark-olive">No</span>
              </label>
            </div>
          </div>

          <!-- Plus One Name Input -->
          <div id="plusOneSection" class="hidden">
            <label for="plusOneName" class="block text-sm font-medium text-theme-dark-olive">Plus One Name:</label>
            <input
              type="text"
              name="plusOneName"
              id="plusOneName"
              class="mt-1 block w-full px-4 py-2 bg-white border border-theme-khaki rounded-md shadow-sm focus:ring-theme-light-olive focus:border-theme-light-olive"
            />
          </div>

          <!-- Song Request -->
          <div id="songRequestSection">
            <label for="songRequest" class="block text-sm font-medium text-theme-dark-olive">Song Request</label>
            <input
              type="text"
              id="songRequest"
              name="songRequest"
              placeholder="Your favorite song for the celebration"
              class="mt-1 block w-full px-4 py-2 bg-white border border-theme-khaki rounded-md shadow-sm focus:ring-theme-light-olive focus:border-theme-light-olive"
            />
          </div>

          <div class="text-center pt-4">
            <button
              type="submit"
              class="w-full bg-theme-dark-olive text-white font-bold py-3 px-6 rounded-full hover:bg-theme-light-olive focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-theme-dark-olive transition duration-300"
              disabled
            >
              Submit RSVP
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Success/Error Modal -->
  <div
    id="messageModal"
    class="modal pointer-events-none fixed inset-0 z-50 flex items-center justify-center p-4 opacity-0 transition-opacity duration-300"
  >
    <div class="fixed inset-0 bg-black/60 backdrop-blur-sm"></div>
    <div
      id="modalContent"
      class="relative max-w-sm rounded-lg bg-white p-6 text-center shadow-xl"
    >
      <p id="modalMessage" class="text-lg font-medium text-gray-800"></p>
      <button
        id="closeModal"
        class="mt-4 rounded-full bg-theme-dark-olive px-6 py-2 text-white hover:bg-theme-light-olive"
      >
        Close
      </button>
    </div>
  </div>

  <!-- Supabase JS -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>

  <script>
    // Modal refs
    const modal = document.getElementById('messageModal');
    const modalMessage = document.getElementById('modalMessage');
    const closeModalButton = document.getElementById('closeModal');

    function showModal(message) {
      modalMessage.textContent = message;
      modal.classList.remove('opacity-0', 'pointer-events-none');
      modal.classList.add('opacity-100');
    }

    function hideModal() {
      modal.classList.add('opacity-0', 'pointer-events-none');
      modal.classList.remove('opacity-100');
    }

    closeModalButton.addEventListener('click', hideModal);
    modal.addEventListener('click', (e) => {
      if (e.target === modal) hideModal();
    });

    // Initialize Supabase client here (replace with your credentials)
    // const supabase = supabase.createClient('your-url', 'your-anon-key');

    // Elements refs
    const rsvpForm = document.getElementById('rsvpForm');
    const firstNameInput = document.getElementById('firstName');
    const surnameInput = document.getElementById('surname');
    const guestStatusMessage = document.getElementById('guestStatusMessage');
    const plusOneQuestionSection = document.getElementById('plusOneQuestionSection');
    const plusOneYesRadio = document.getElementById('plusOneYes');
    const plusOneNoRadio = document.getElementById('plusOneNo');
    const plusOneSection = document.getElementById('plusOneSection');
    const plusOneNameInput = document.getElementById('plusOneName');
    const submitButton = rsvpForm.querySelector('button[type="submit"]');

    const attendingYesRadio = document.getElementById('attendingYes');
    const attendingNoRadio = document.getElementById('attendingNo');

    const emailSection = document.getElementById('emailSection');
    const phoneSection = document.getElementById('phoneSection');
    const songRequestSection = document.getElementById('songRequestSection');

    let guestList = [];
    let currentGuest = null;

    // Normalize string for comparison
    function normalize(str) {
      return (str || '').trim().toLowerCase();
    }

    // Fuzzy guest lookup: partial case-insensitive match
    function isGuestValid(inputFirstName, inputLastName, guests) {
      const first = normalize(inputFirstName);
      const last = normalize(inputLastName);

      return guests.find((guest) => {
        const gFirst = normalize(guest.name);
        const gLast = normalize(guest.lastname);

        const firstMatches = gFirst.includes(first) || first.includes(gFirst);
        const lastMatches = !last ? true : gLast.includes(last) || last.includes(gLast);

        return firstMatches && lastMatches;
      }) || null;
    }

    // Show/hide plus one name input, required attr
    function showPlusOneNameField(show) {
      if (show) {
        plusOneSection.classList.remove('hidden');
        plusOneNameInput.required = true;
      } else {
        plusOneSection.classList.add('hidden');
        plusOneNameInput.value = '';
        plusOneNameInput.required = false;
      }
    }

    // Show/hide plus one question based on guest and selection
    function updatePlusOneVisibility(guest) {
      if (!guest || !guest.plus_one) {
        plusOneQuestionSection.classList.add('hidden');
        showPlusOneNameField(false);
        plusOneYesRadio.checked = false;
        plusOneNoRadio.checked = true;
        plusOneYesRadio.disabled = true;
        plusOneNoRadio.disabled = true;
        return;
      }

      plusOneQuestionSection.classList.remove('hidden');
      plusOneYesRadio.disabled = false;
      plusOneNoRadio.disabled = false;

      if (plusOneYesRadio.checked) {
        showPlusOneNameField(true);
      } else {
        showPlusOneNameField(false);
      }
    }

    // Set guest status with color class
    function setGuestStatus(text, colorClass = 'text-gray-600') {
      guestStatusMessage.textContent = text;
      guestStatusMessage.className = `mt-2 text-sm ${colorClass}`;
    }

    // Fetch guest list from Supabase (fill supabase client)
    async function fetchGuestList() {
      try {
        const { data, error } = await supabase.from('guests').select('name, lastname, plus_one');
        if (error) {
          console.error('Error fetching guests:', error);
          setGuestStatus('Error loading guest list. Please try again later.', 'text-red-600');
          submitButton.disabled = true;
          return [];
        }
        return data || [];
      } catch (err) {
        console.error('Unexpected error fetching guests:', err);
        setGuestStatus('Unexpected error loading data.', 'text-red-600');
        submitButton.disabled = true;
        return [];
      }
    }

    // Validate guest input, fuzzy matching only
    async function validateGuest() {
      const firstName = firstNameInput.value.trim();
      const surname = surnameInput.value.trim();

      if (!firstName && !surname) {
        setGuestStatus('');
        currentGuest = null;
        submitButton.disabled = true;
        return false;
      }

      if (!firstName || !surname) {
        setGuestStatus('Please enter both first name and surname.', 'text-yellow-700');
        currentGuest = null;
        submitButton.disabled = true;
        return false;
      }

      setGuestStatus('Checking guest list...', 'text-gray-600');
      submitButton.disabled = true;

      const guest = isGuestValid(firstName, surname, guestList);

      if (!guest) {
        setGuestStatus('Name and surname not recognized. Please check spelling or contact us.', 'text-red-600');
        currentGuest = null;
        submitButton.disabled = true;
        plusOneYesRadio.disabled = true;
        plusOneNoRadio.disabled = true;
        showPlusOneNameField(false);
        plusOneQuestionSection.classList.add('hidden');
        return false;
      } else {
        currentGuest = guest;
        setGuestStatus(
          guest.plus_one
            ? 'Welcome! You have a plus one; please confirm if they will attend.'
            : 'Welcome! Looking forward to seeing you.',
          'text-green-600'
        );
        submitButton.disabled = false;
        updatePlusOneVisibility(guest);
        return true;
      }
    }

    // Debounce helper
    function debounce(fn, delay = 300) {
      let timeoutId;
      return function () {
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => fn.apply(this, arguments), delay);
      };
    }

    // Show/hide fields and update submit button label based on attendance radio
    function updateAttendanceDependentFields(isAttending) {
      if (isAttending) {
        emailSection.style.display = 'block';
        phoneSection.style.display = 'block';
        songRequestSection.style.display = 'block';

        if (currentGuest && currentGuest.plus_one) {
          plusOneQuestionSection.style.display = 'block';
          plusOneYesRadio.disabled = false;
          plusOneNoRadio.disabled = false;

          if (plusOneYesRadio.checked) {
            plusOneSection.style.display = 'block';
            plusOneNameInput.required = true;
          } else {
            plusOneSection.style.display = 'none';
            plusOneNameInput.value = '';
            plusOneNameInput.required = false;
          }
        } else {
          plusOneQuestionSection.style.display = 'none';
          plusOneSection.style.display = 'none';
          plusOneNameInput.value = '';
          plusOneNameInput.required = false;
          plusOneYesRadio.disabled = true;
          plusOneNoRadio.disabled = true;
        }

        submitButton.textContent = 'Submit RSVP';
      } else {
        emailSection.style.display = 'none';
        phoneSection.style.display = 'none';
        plusOneQuestionSection.style.display = 'none';
        plusOneSection.style.display = 'none';
        plusOneNameInput.value = '';
        plusOneNameInput.required = false;
        songRequestSection.style.display = 'none';
        plusOneYesRadio.disabled = true;
        plusOneNoRadio.disabled = true;

        submitButton.textContent = 'Send RSVP';
      }
    }

    // Attendance radio change toggles fields visibility
    function handleAttendanceChange() {
      const isAttending = attendingYesRadio.checked;
      updateAttendanceDependentFields(isAttending);
    }

    // Plus one radio change controls plus one name field
    function handlePlusOneChange() {
      if (plusOneYesRadio.checked) {
        plusOneSection.style.display = 'block';
        plusOneNameInput.required = true;
      } else {
        plusOneSection.style.display = 'none';
        plusOneNameInput.value = '';
        plusOneNameInput.required = false;
      }
    }

    document.addEventListener('DOMContentLoaded', async () => {
      guestList = await fetchGuestList();

      submitButton.disabled = true;

      const debouncedValidateGuest = debounce(validateGuest);
      firstNameInput.addEventListener('input', debouncedValidateGuest);
      surnameInput.addEventListener('input', debouncedValidateGuest);

      plusOneYesRadio.addEventListener('change', handlePlusOneChange);
      plusOneNoRadio.addEventListener('change', handlePlusOneChange);

      attendingYesRadio.addEventListener('change', handleAttendanceChange);
      attendingNoRadio.addEventListener('change', handleAttendanceChange);

      [firstNameInput, surnameInput].forEach((input) => {
        input.addEventListener('keydown', (e) => {
          if (e.key === 'Enter') e.preventDefault();
        });
      });

      // Initialize fields visibility based on default attendance selection
      handleAttendanceChange();
    });

    rsvpForm.addEventListener('submit', async (event) => {
      event.preventDefault();

      if (!currentGuest) {
        setGuestStatus('Sorry, you are not on the guest list! Please contact the couple for more info.', 'text-red-600');
        submitButton.disabled = true;
        return;
      }

      const isAttending = attendingYesRadio.checked;

      if (
        isAttending &&
        currentGuest.plus_one &&
        plusOneYesRadio.checked &&
        plusOneNameInput.value.trim() === ''
      ) {
        setGuestStatus("Please provide your plus one's name.", 'text-red-600');
        plusOneNameInput.focus();
        return;
      }

      submitButton.disabled = true;
      submitButton.textContent = 'Submitting...';

      try {
        const formData = new FormData(rsvpForm);

        const rsvpData = {
          full_name: formData.get('firstName').trim(),
          lastname: formData.get('surname').trim(),
          email: isAttending ? formData.get('email').trim() : null,
          phone: isAttending ? formData.get('phone').trim() || null : null,
          attending: isAttending,
          plus_one: currentGuest.plus_one,
          plus_one_name:
            isAttending && currentGuest.plus_one && plusOneYesRadio.checked
              ? formData.get('plusOneName').trim()
              : null,
          song_request: isAttending ? formData.get('songRequest').trim() || null : null,
        };

        const { error } = await supabase.from('rsvps').insert([rsvpData]);

        if (error) throw error;

        showModal('Thank you! Your RSVP has been submitted successfully.See you Soon :)');

        rsvpForm.reset();
        setGuestStatus('');
        submitButton.disabled = true;
        submitButton.textContent = 'Submit RSVP';
        currentGuest = null;

        // Reset to fields visible (attending default)
        updateAttendanceDependentFields(true);
      } catch (err) {
        console.error('Error submitting RSVP:', err);
        showModal('Thank you for submitting!');
        submitButton.disabled = false;
        submitButton.textContent = isAttending ? 'Submit RSVP' : 'Send RSVP';
      }
    });
  </script>
</section>




    </main>
    <!-- Success/Error Modal -->
    <div id="messageModal" class="modal pointer-events-none fixed inset-0 z-50 flex items-center justify-center p-4 opacity-0">
        <div class="fixed inset-0 bg-black/60 backdrop-blur-sm"></div>
        <div id="modalContent" class="relative max-w-sm rounded-lg bg-white p-6 text-center shadow-xl">
            <p id="modalMessage" class="text-lg font-medium text-gray-800"></p>
            <button id="closeModal" class="mt-4 rounded-full bg-theme-dark-olive px-6 py-2 text-white hover:bg-theme-light-olive">Close</button>
        </div>
    </div>
    
<footer>
  <div class="max-w-md mx-auto mt-8 text-center">
    <div class="font-harlow text-2xl md:text-3xl italic mb-2">Janneke & Jukka</div>
    <a href="https://ibb.co/2780j3zn">
      <img src="https://i.ibb.co/ns3qDMXg/j-j.jpg" alt="j-j" border="0" 
        class="mx-auto max-h-[300px] object-cover" 
        style="vertical-align: top; transform: translateY(2px);" />
    </a>
    <div class="bg-theme-off-white/80 text-theme-dark-olive text-center py-6 rounded-b-xl shadow-inner mt-[-1.5rem]">
      <div class="mt-3 text-sm text-theme-light-olive">Est. 05 January 2006</div>
    </div>
  </div>
</footer>



<script>
  
    // ... existing Supabase and form handling script ...

    // Intersection Observer for fade-in effect
    const faders = document.querySelectorAll('section'); // Select all sections

    const appearOptions = {
        threshold: 0.2, // When 20% of the section is visible
        rootMargin: "0px 0px -7px 0px" // Adjust the bottom margin to control the fade trigger
    };

    const appearOnScroll = new IntersectionObserver(function(entries, appearOnScroll) {
        entries.forEach(entry => {
            if (!entry.isIntersecting) {
                return;
            } else {
                entry.target.classList.add('fade-in');
                appearOnScroll.unobserve(entry.target); // Stop observing once it's faded in
            }
        });
    }, appearOptions);

    faders.forEach(fader => {
        appearOnScroll.observe(fader);
    });
 function scrollCarousel(direction) {
    const carousel = document.getElementById('carousel');
    const width = carousel.offsetWidth;
    carousel.scrollBy({ left: direction * width, behavior: 'smooth' });
  }
    const carousel = document.getElementById("carousel");
  let scrollAmount = carousel.offsetWidth;
  let currentIndex = 0;
  const totalImages = carousel.children.length;

  function scrollCarousel(direction) {
    if (direction === 1 && currentIndex < totalImages - 1) {
      currentIndex++;
    } else if (direction === -1 && currentIndex > 0) {
      currentIndex--;
    } else if (direction === 1 && currentIndex === totalImages - 1) {
      currentIndex = 0;
    } else if (direction === -1 && currentIndex === 0) {
      currentIndex = totalImages - 1;
    }
    carousel.scrollTo({ left: scrollAmount * currentIndex, behavior: 'smooth' });
  }
</script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  const countdownDate = new Date("2025-12-05T14:00:00").getTime();

  const updateCountdown = () => {
    const now = new Date().getTime();
    const distance = countdownDate - now;

    if (distance <= 0) {
      document.getElementById("countdown").innerHTML =
        "<h3 class='font-harlow text-3xl text-theme-dark-olive'>It's Wedding Day!</h3>";
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("days").textContent = days;
    document.getElementById("hours").textContent = hours;
    document.getElementById("minutes").textContent = minutes;
    document.getElementById("seconds").textContent = seconds;
  };

  updateCountdown();
  setInterval(updateCountdown, 1000);
});
</script>


</body>
</html>
